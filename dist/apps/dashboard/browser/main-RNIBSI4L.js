import{a as n}from"./chunk-M3737FW5.js";import{C as r,Ga as C,Ja as v,Ka as A,L as d,La as R,Ma as p,Oa as I,Pa as b,Z as h,j as f,la as g,q as l}from"./chunk-DCH6LNNV.js";var a=()=>{let t=r(n),e=r(p);return t.isLoggedIn()?!0:(e.navigate(["/login"]),!1)};var k=[{path:"",redirectTo:"tasks",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-MFFWKNVI.js").then(t=>t.LoginComponent)},{path:"tasks",loadComponent:()=>import("./chunk-XF2MI5T3.js").then(t=>t.TaskListComponent),canActivate:[a]},{path:"audit-log",loadComponent:()=>import("./chunk-ZL27JLRH.js").then(t=>t.AuditLogComponent),canActivate:[a]},{path:"**",redirectTo:"tasks"}];var x=(t,e)=>{let o=r(n),m=r(p),s=o.getToken(),c=t;return s&&(c=t.clone({setHeaders:{Authorization:`Bearer ${s}`}})),e(c).pipe(l(u=>(u.status===401&&(o.logout(),m.navigate(["/login"])),f(()=>u))))};var H={providers:[d(),I(k),v(A([x]))]};var i=class t{title="dashboard";static \u0275fac=function(o){return new(o||t)};static \u0275cmp=h({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(o,m){o&1&&g(0,"router-outlet")},dependencies:[b,R],encapsulation:2})};C(i,H).catch(t=>console.error(t));

import{B as s,C as l,Ea as y,Ia as v,M as c,Na as b,Qa as h,T as o,Z as u,ga as x,ha as g,ja as e,ka as i,qa as n,ra as m,ta as f,y as p}from"./chunk-DCH6LNNV.js";var d=class a{constructor(r){this.http=r}base=`${h.apiUrl}/audit-log`;list(r){let t=r!=null?{limit:r.toString()}:{};return this.http.get(this.base,{params:t})}static \u0275fac=function(t){return new(t||a)(s(v))};static \u0275prov=p({token:a,factory:a.\u0275fac,providedIn:"root"})};var A=(a,r)=>r.id;function C(a,r){if(a&1&&(e(0,"tr",9)(1,"td",10),n(2),i(),e(3,"td",11),n(4),i(),e(5,"td",11),n(6),i(),e(7,"td",11),n(8),i(),e(9,"td",12),n(10),i()()),a&2){let t=r.$implicit;o(2),m(t.timestamp),o(2),m(t.userId),o(2),m(t.action),o(2),f("",t.resource,"",t.resourceId?" "+t.resourceId:""),o(2),m(t.details)}}function L(a,r){a&1&&(e(0,"tr")(1,"td",13),n(2,"No audit entries."),i()())}var E=class a{auditService=l(d);entries=c([]);ngOnInit(){this.auditService.list(100).subscribe({next:r=>this.entries.set(r),error:()=>this.entries.set([])})}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=u({type:a,selectors:[["app-audit-log"]],decls:24,vars:1,consts:[[1,"min-h-screen","bg-gray-50","p-4","md:p-8"],[1,"flex","items-center","gap-4","mb-6"],["routerLink","/tasks",1,"text-blue-600","hover:underline"],[1,"text-2xl","font-bold","text-gray-800"],[1,"bg-white","rounded-lg","shadow","overflow-hidden"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-100"],[1,"px-4","py-2","text-left","text-sm","font-medium","text-gray-700"],[1,"divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],[1,"px-4","py-2","text-sm","text-gray-600"],[1,"px-4","py-2","text-sm"],[1,"px-4","py-2","text-sm","text-gray-600","max-w-xs","truncate"],["colspan","5",1,"px-4","py-8","text-center","text-gray-500"]],template:function(t,S){t&1&&(e(0,"div",0)(1,"header",1)(2,"a",2),n(3,"\u2190 Tasks"),i(),e(4,"h1",3),n(5,"Audit Log"),i()(),e(6,"div",4)(7,"table",5)(8,"thead",6)(9,"tr")(10,"th",7),n(11,"Time"),i(),e(12,"th",7),n(13,"User"),i(),e(14,"th",7),n(15,"Action"),i(),e(16,"th",7),n(17,"Resource"),i(),e(18,"th",7),n(19,"Details"),i()()(),e(20,"tbody",8),x(21,C,11,6,"tr",9,A,!1,L,3,0,"tr"),i()()()()),t&2&&(o(21),g(S.entries()))},dependencies:[y,b],encapsulation:2})};export{E as AuditLogComponent};

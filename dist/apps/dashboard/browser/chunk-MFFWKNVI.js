import{a as _,b as f,c as E,d as M,g as N,h as F,i as L,n as D,p as G}from"./chunk-6FTBPCR4.js";import{a as S}from"./chunk-M3737FW5.js";import{Ea as y,Ma as w,T as n,X as s,Z as b,ea as u,fa as p,ia as c,ja as i,ka as t,la as g,na as v,oa as x,qa as r,ra as h,sa as C}from"./chunk-DCH6LNNV.js";function T(o,a){o&1&&(i(0,"p",7),r(1,"Valid email required"),t())}function j(o,a){o&1&&(i(0,"p",7),r(1,"Password required"),t())}function k(o,a){if(o&1&&(i(0,"p",10),r(1),t()),o&2){let l=x();n(),h(l.errorMessage)}}var I=class o{constructor(a,l,e){this.fb=a;this.auth=l;this.router=e;this.form=this.fb.nonNullable.group({email:["",[f.required,f.email]],password:["",f.required]})}form;loading=!1;errorMessage="";onSubmit(){this.form.invalid||this.loading||(this.loading=!0,this.errorMessage="",this.auth.login(this.form.value.email,this.form.value.password).subscribe({next:()=>this.router.navigate(["/tasks"]),error:a=>{this.loading=!1,this.errorMessage=a.error?.message||"Login failed"},complete:()=>this.loading=!1}))}static \u0275fac=function(l){return new(l||o)(s(D),s(S),s(w))};static \u0275cmp=b({type:o,selectors:[["app-login"]],decls:21,vars:6,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-100","px-4"],[1,"w-full","max-w-md"],[1,"bg-white","rounded-lg","shadow-md","p-8"],[1,"text-2xl","font-bold","text-gray-800","mb-6"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","email","type","email","formControlName","email","placeholder","you@example.com",1,"w-full","rounded","border","border-gray-300","px-3","py-2","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],[1,"text-red-500","text-sm","mt-1"],["for","password",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","password","type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","rounded","border","border-gray-300","px-3","py-2","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],[1,"text-red-500","text-sm"],["type","submit",1,"w-full","bg-blue-600","text-white","py-2","px-4","rounded","font-medium","hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-gray-500","text-sm","mt-4"]],template:function(l,e){if(l&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),r(4,"Task Management"),t(),i(5,"form",4),v("ngSubmit",function(){return e.onSubmit()}),i(6,"div")(7,"label",5),r(8,"Email"),t(),g(9,"input",6),u(10,T,2,0,"p",7),t(),i(11,"div")(12,"label",8),r(13,"Password"),t(),g(14,"input",9),u(15,j,2,0,"p",7),t(),u(16,k,2,1,"p",10),i(17,"button",11),r(18),t()(),i(19,"p",12),r(20," Demo: owner@example.com / admin123 "),t()()()()),l&2){let m,d;n(5),c("formGroup",e.form),n(5),p((m=e.form.get("email"))!=null&&m.invalid&&((m=e.form.get("email"))!=null&&m.touched)?10:-1),n(5),p((d=e.form.get("password"))!=null&&d.invalid&&((d=e.form.get("password"))!=null&&d.touched)?15:-1),n(),p(e.errorMessage?16:-1),n(),c("disabled",e.form.invalid||e.loading),n(),C(" ",e.loading?"Signing in...":"Sign in"," ")}},dependencies:[y,G,N,_,E,M,L,F],encapsulation:2})};export{I as LoginComponent};

{"version":3,"file":"main.js","mappings":"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","sources":["external commonjs \"@nestjs/common\"","external commonjs \"@nestjs/core\"","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/app.module.ts","external commonjs \"tslib\"","external commonjs \"@nestjs/typeorm\"","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/app.controller.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/app.service.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/auth/public.decorator.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/auth/auth.module.ts","external commonjs \"@nestjs/jwt\"","external commonjs \"@nestjs/passport\"","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/entities/user.entity.ts","external commonjs \"typeorm\"","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/entities/organization.entity.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/entities/task.entity.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/libs/data/src/index.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/libs/data/src/lib/types.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/libs/auth/src/index.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/libs/auth/src/lib/permissions.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/libs/auth/src/lib/role.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/libs/data/src/lib/dtos.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/auth/auth.service.ts","external commonjs \"bcrypt\"","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/auth/auth.controller.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/auth/dto/login.dto.ts","external commonjs \"class-validator\"","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/auth/jwt.strategy.ts","external commonjs \"passport-jwt\"","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/tasks/tasks.module.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/tasks/tasks.service.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/audit/audit.service.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/entities/audit-log.entity.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/tasks/tasks.controller.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/auth/jwt-auth.guard.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/auth/permissions.guard.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/auth/require-permission.decorator.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/audit/audit.module.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/audit/audit.controller.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/auth/roles.guard.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/auth/roles.decorator.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/seed/seed.module.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/seed/seed.service.ts","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/app/entities/index.ts","webpack/bootstrap","/Users/jmisurda/smisurda-3051ebab-c10c-49c2-b6a8-3c81c3d1090d/apps/api/src/main.ts"],"sourcesContent":["module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/core\");","import { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { APP_GUARD } from '@nestjs/core';\nimport { AppController } from './app.controller';\nimport { AppService } from './app.service';\nimport { AuthModule } from './auth/auth.module';\nimport { TasksModule } from './tasks/tasks.module';\nimport { AuditModule } from './audit/audit.module';\nimport { SeedModule } from './seed/seed.module';\nimport { JwtAuthGuard } from './auth/jwt-auth.guard';\nimport {\n  Organization,\n  User,\n  Task,\n  AuditLog,\n} from './entities';\n\n@Module({\n  imports: [\n    TypeOrmModule.forRoot({\n      type: 'better-sqlite3',\n      database: process.env.DB_PATH || 'data/tasks.sqlite',\n      entities: [Organization, User, Task, AuditLog],\n      synchronize: true,\n    }),\n    AuthModule,\n    TasksModule,\n    AuditModule,\n    SeedModule,\n  ],\n  controllers: [AppController],\n  providers: [\n    AppService,\n    {\n      provide: APP_GUARD,\n      useClass: JwtAuthGuard,\n    },\n  ],\n})\nexport class AppModule {}\n","module.exports = require(\"tslib\");","module.exports = require(\"@nestjs/typeorm\");","import { Controller, Get } from '@nestjs/common';\nimport { AppService } from './app.service';\nimport { Public } from './auth/public.decorator';\n\n@Controller()\nexport class AppController {\n  constructor(private readonly appService: AppService) {}\n\n  @Public()\n  @Get()\n  getData() {\n    return this.appService.getData();\n  }\n}\n","import { Injectable } from '@nestjs/common';\n\n@Injectable()\nexport class AppService {\n  getData(): { message: string } {\n    return { message: 'Hello API' };\n  }\n}\n","import { SetMetadata } from '@nestjs/common';\n\nexport const IS_PUBLIC_KEY = 'isPublic';\n\nexport const Public = () => SetMetadata(IS_PUBLIC_KEY, true);\n","import { Module } from '@nestjs/common';\nimport { JwtModule } from '@nestjs/jwt';\nimport { PassportModule } from '@nestjs/passport';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { User } from '../entities/user.entity';\nimport { AuthService } from './auth.service';\nimport { AuthController } from './auth.controller';\nimport { JwtStrategy } from './jwt.strategy';\n\n@Module({\n  imports: [\n    TypeOrmModule.forFeature([User]),\n    PassportModule.register({ defaultStrategy: 'jwt' }),\n    JwtModule.register({\n      secret: process.env.JWT_SECRET || 'dev-secret-change-in-production',\n      signOptions: {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        expiresIn: (process.env.JWT_EXPIRATION ?? '1h') as any,\n      },\n    }),\n  ],\n  controllers: [AuthController],\n  providers: [AuthService, JwtStrategy],\n  exports: [AuthService, JwtModule],\n})\nexport class AuthModule {}\n","module.exports = require(\"@nestjs/jwt\");","module.exports = require(\"@nestjs/passport\");","import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n  ManyToOne,\n  OneToMany,\n  JoinColumn,\n} from 'typeorm';\nimport { Organization } from './organization.entity';\nimport { Task } from './task.entity';\nimport { Role } from '@app/data';\n\n@Entity('user')\nexport class User {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column({ unique: true })\n  email: string;\n\n  @Column()\n  passwordHash: string;\n\n  @Column('uuid')\n  organizationId: string;\n\n  @ManyToOne(() => Organization, (org) => org.users, { onDelete: 'CASCADE' })\n  @JoinColumn({ name: 'organizationId' })\n  organization: Organization;\n\n  @Column({\n    type: 'simple-enum',\n    enum: Role,\n  })\n  role: Role;\n\n  @Column({ type: 'datetime', default: () => 'CURRENT_TIMESTAMP' })\n  createdAt: Date;\n\n  @OneToMany(() => Task, (task) => task.createdBy)\n  tasks: Task[];\n}\n","module.exports = require(\"typeorm\");","import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n  OneToMany,\n} from 'typeorm';\nimport { User } from './user.entity';\nimport { Task } from './task.entity';\n\n@Entity('organization')\nexport class Organization {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column()\n  name: string;\n\n  @Column({ type: 'varchar', nullable: true })\n  parentId: string | null;\n\n  @OneToMany(() => User, (user) => user.organization)\n  users: User[];\n\n  @OneToMany(() => Task, (task) => task.organization)\n  tasks: Task[];\n}\n","import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n  ManyToOne,\n  JoinColumn,\n} from 'typeorm';\nimport { Organization } from './organization.entity';\nimport { User } from './user.entity';\nimport { TaskStatus, TaskCategory } from '@app/data';\n\n@Entity('task')\nexport class Task {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column()\n  title: string;\n\n  @Column({ type: 'text', default: '' })\n  description: string;\n\n  @Column({\n    type: 'simple-enum',\n    enum: TaskStatus,\n    default: TaskStatus.Todo,\n  })\n  status: TaskStatus;\n\n  @Column({\n    type: 'simple-enum',\n    enum: TaskCategory,\n    default: TaskCategory.Work,\n  })\n  category: TaskCategory;\n\n  @Column({ type: 'int', default: 0 })\n  orderIndex: number;\n\n  @Column('uuid')\n  organizationId: string;\n\n  @ManyToOne(() => Organization, (org) => org.tasks, { onDelete: 'CASCADE' })\n  @JoinColumn({ name: 'organizationId' })\n  organization: Organization;\n\n  @Column('uuid')\n  createdById: string;\n\n  @ManyToOne(() => User, (user) => user.tasks, { onDelete: 'CASCADE' })\n  @JoinColumn({ name: 'createdById' })\n  createdBy: User;\n\n  @Column({ type: 'datetime', default: () => 'CURRENT_TIMESTAMP' })\n  createdAt: Date;\n\n  @Column({ type: 'datetime', default: () => 'CURRENT_TIMESTAMP' })\n  updatedAt: Date;\n}\n","export * from './lib/types';\nexport * from './lib/dtos';\n","import { Role } from '@app/auth';\n\nexport { Role };\n\nexport enum TaskStatus {\n  Todo = 'Todo',\n  InProgress = 'InProgress',\n  Done = 'Done',\n}\n\nexport enum TaskCategory {\n  Work = 'Work',\n  Personal = 'Personal',\n}\n\nexport interface User {\n  id: string;\n  email: string;\n  organizationId: string;\n  role: Role;\n  createdAt: string;\n}\n\nexport interface Organization {\n  id: string;\n  name: string;\n  parentId: string | null;\n}\n\nexport interface Task {\n  id: string;\n  title: string;\n  description: string;\n  status: TaskStatus;\n  category: TaskCategory;\n  orderIndex: number;\n  organizationId: string;\n  createdById: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface AuditLogEntry {\n  id: string;\n  userId: string;\n  action: string;\n  resource: string;\n  resourceId: string | null;\n  details: string | null;\n  timestamp: string;\n}\n","export * from './lib/permissions';\nexport { Role } from './lib/role';\n","import { Role } from './role';\n\nexport const PERMISSIONS = {\n  TASK_CREATE: 'task:create',\n  TASK_READ: 'task:read',\n  TASK_UPDATE: 'task:update',\n  TASK_DELETE: 'task:delete',\n  AUDIT_READ: 'audit:read',\n} as const;\n\nexport type Permission = (typeof PERMISSIONS)[keyof typeof PERMISSIONS];\n\nconst ROLE_PERMISSIONS: Record<Role, readonly Permission[]> = {\n  [Role.Owner]: [\n    PERMISSIONS.TASK_CREATE,\n    PERMISSIONS.TASK_READ,\n    PERMISSIONS.TASK_UPDATE,\n    PERMISSIONS.TASK_DELETE,\n    PERMISSIONS.AUDIT_READ,\n  ],\n  [Role.Admin]: [\n    PERMISSIONS.TASK_CREATE,\n    PERMISSIONS.TASK_READ,\n    PERMISSIONS.TASK_UPDATE,\n    PERMISSIONS.TASK_DELETE,\n    PERMISSIONS.AUDIT_READ,\n  ],\n  [Role.Viewer]: [PERMISSIONS.TASK_READ],\n};\n\n/**\n * Returns whether the given role has the specified permission.\n */\nexport function hasPermission(role: Role, permission: Permission): boolean {\n  const permissions = ROLE_PERMISSIONS[role];\n  return permissions ? permissions.includes(permission) : false;\n}\n\n/**\n * Roles that can access the audit log (Owner and Admin only).\n */\nexport const AUDIT_READ_ROLES: Role[] = [Role.Owner, Role.Admin];\n\n/**\n * Roles that can create/update/delete tasks.\n */\nexport const TASK_WRITE_ROLES: Role[] = [Role.Owner, Role.Admin];\n","export enum Role {\n  Owner = 'Owner',\n  Admin = 'Admin',\n  Viewer = 'Viewer',\n}\n","import { TaskCategory, TaskStatus } from './types';\n\nexport interface LoginDto {\n  email: string;\n  password: string;\n}\n\nexport interface LoginResponseDto {\n  access_token: string;\n  user: {\n    id: string;\n    email: string;\n    organizationId: string;\n    role: string;\n  };\n}\n\nexport interface CreateTaskDto {\n  title: string;\n  description?: string;\n  status?: TaskStatus;\n  category?: TaskCategory;\n  orderIndex?: number;\n}\n\nexport interface UpdateTaskDto {\n  title?: string;\n  description?: string;\n  status?: TaskStatus;\n  category?: TaskCategory;\n  orderIndex?: number;\n}\n\nexport interface TaskListQueryDto {\n  status?: TaskStatus;\n  category?: TaskCategory;\n  sortBy?: 'createdAt' | 'updatedAt' | 'orderIndex' | 'title';\n  sortOrder?: 'asc' | 'desc';\n}\n","import { Injectable, UnauthorizedException } from '@nestjs/common';\nimport { JwtService } from '@nestjs/jwt';\nimport { InjectRepository } from '@nestjs/typeorm';\nimport { Repository } from 'typeorm';\nimport * as bcrypt from 'bcrypt';\nimport { User } from '../entities/user.entity';\nimport { LoginResponseDto } from '@app/data';\nimport { LoginDto } from './dto/login.dto';\n\n@Injectable()\nexport class AuthService {\n  constructor(\n    @InjectRepository(User)\n    private userRepository: Repository<User>,\n    private jwtService: JwtService\n  ) {}\n\n  async login(dto: LoginDto): Promise<LoginResponseDto> {\n    const user = await this.userRepository.findOne({\n      where: { email: dto.email },\n      select: ['id', 'email', 'passwordHash', 'organizationId', 'role', 'createdAt'],\n    });\n    if (!user) {\n      throw new UnauthorizedException('Invalid credentials');\n    }\n    const isMatch = await bcrypt.compare(dto.password, user.passwordHash);\n    if (!isMatch) {\n      throw new UnauthorizedException('Invalid credentials');\n    }\n    const payload = {\n      sub: user.id,\n      email: user.email,\n      organizationId: user.organizationId,\n      role: user.role,\n    };\n    const access_token = this.jwtService.sign(payload);\n    return {\n      access_token,\n      user: {\n        id: user.id,\n        email: user.email,\n        organizationId: user.organizationId,\n        role: user.role,\n      },\n    };\n  }\n}\n","module.exports = require(\"bcrypt\");","import { Controller, Post, Body } from '@nestjs/common';\nimport { AuthService } from './auth.service';\nimport { Public } from './public.decorator';\nimport { LoginDto } from './dto/login.dto';\n\n@Controller('auth')\nexport class AuthController {\n  constructor(private authService: AuthService) {}\n\n  @Public()\n  @Post('login')\n  async login(@Body() dto: LoginDto) {\n    return this.authService.login(dto);\n  }\n}\n","import { IsEmail, IsString, MinLength } from 'class-validator';\n\nexport class LoginDto {\n  @IsEmail()\n  email: string;\n\n  @IsString()\n  @MinLength(1)\n  password: string;\n}\n","module.exports = require(\"class-validator\");","import { Injectable, UnauthorizedException } from '@nestjs/common';\nimport { PassportStrategy } from '@nestjs/passport';\nimport { ExtractJwt, Strategy } from 'passport-jwt';\nimport { JwtPayload } from './jwt-payload.interface';\nimport { Role } from '@app/data';\n\n@Injectable()\nexport class JwtStrategy extends PassportStrategy(Strategy) {\n  constructor() {\n    super({\n      jwtFromRequest: ExtractJwt.fromAuthHeaderAsBearerToken(),\n      ignoreExpiration: false,\n      secretOrKey: process.env.JWT_SECRET || 'dev-secret-change-in-production',\n    });\n  }\n\n  async validate(payload: JwtPayload) {\n    if (!payload.sub || !payload.organizationId || !payload.role) {\n      throw new UnauthorizedException();\n    }\n    return {\n      userId: payload.sub,\n      email: payload.email,\n      organizationId: payload.organizationId,\n      role: payload.role as Role,\n    };\n  }\n}\n","module.exports = require(\"passport-jwt\");","import { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { Task } from '../entities/task.entity';\nimport { TasksService } from './tasks.service';\nimport { TasksController } from './tasks.controller';\nimport { AuditModule } from '../audit/audit.module';\n\n@Module({\n  imports: [TypeOrmModule.forFeature([Task]), AuditModule],\n  controllers: [TasksController],\n  providers: [TasksService],\n})\nexport class TasksModule {}\n","import {\n  Injectable,\n  NotFoundException,\n  ForbiddenException,\n} from '@nestjs/common';\nimport { InjectRepository } from '@nestjs/typeorm';\nimport { Repository } from 'typeorm';\nimport { Task } from '../entities/task.entity';\nimport { CreateTaskDto, UpdateTaskDto, TaskListQueryDto } from '@app/data';\nimport { TaskStatus, TaskCategory } from '@app/data';\nimport { AuditService } from '../audit/audit.service';\n\nexport interface RequestUser {\n  userId: string;\n  organizationId: string;\n  role: string;\n}\n\n@Injectable()\nexport class TasksService {\n  constructor(\n    @InjectRepository(Task)\n    private taskRepository: Repository<Task>,\n    private auditService: AuditService\n  ) {}\n\n  async create(dto: CreateTaskDto, user: RequestUser): Promise<Task> {\n    const task = this.taskRepository.create({\n      title: dto.title,\n      description: dto.description ?? '',\n      status: dto.status ?? TaskStatus.Todo,\n      category: dto.category ?? TaskCategory.Work,\n      orderIndex: dto.orderIndex ?? 0,\n      organizationId: user.organizationId,\n      createdById: user.userId,\n    });\n    const saved = await this.taskRepository.save(task);\n    await this.auditService.log(\n      user.userId,\n      user.organizationId,\n      'CREATE',\n      'task',\n      saved.id,\n      JSON.stringify({ title: saved.title })\n    );\n    return saved;\n  }\n\n  async findAll(\n    user: RequestUser,\n    query: TaskListQueryDto\n  ): Promise<Task[]> {\n    const qb = this.taskRepository\n      .createQueryBuilder('task')\n      .where('task.organizationId = :orgId', { orgId: user.organizationId });\n\n    if (query.status) {\n      qb.andWhere('task.status = :status', { status: query.status });\n    }\n    if (query.category) {\n      qb.andWhere('task.category = :category', { category: query.category });\n    }\n\n    const sortBy = query.sortBy ?? 'orderIndex';\n    const sortOrder = (query.sortOrder ?? 'asc').toUpperCase() as 'ASC' | 'DESC';\n    qb.orderBy(`task.${sortBy}`, sortOrder);\n\n    return qb.getMany();\n  }\n\n  async findOne(id: string, user: RequestUser): Promise<Task> {\n    const task = await this.taskRepository.findOne({\n      where: { id, organizationId: user.organizationId },\n    });\n    if (!task) {\n      throw new NotFoundException('Task not found');\n    }\n    return task;\n  }\n\n  async update(\n    id: string,\n    dto: UpdateTaskDto,\n    user: RequestUser\n  ): Promise<Task> {\n    const task = await this.findOne(id, user);\n    if (dto.title !== undefined) task.title = dto.title;\n    if (dto.description !== undefined) task.description = dto.description;\n    if (dto.status !== undefined) task.status = dto.status;\n    if (dto.category !== undefined) task.category = dto.category;\n    if (dto.orderIndex !== undefined) task.orderIndex = dto.orderIndex;\n    task.updatedAt = new Date();\n    const saved = await this.taskRepository.save(task);\n    await this.auditService.log(\n      user.userId,\n      user.organizationId,\n      'UPDATE',\n      'task',\n      saved.id,\n      JSON.stringify(dto)\n    );\n    return saved;\n  }\n\n  async remove(id: string, user: RequestUser): Promise<void> {\n    const task = await this.findOne(id, user);\n    await this.taskRepository.remove(task);\n    await this.auditService.log(\n      user.userId,\n      user.organizationId,\n      'DELETE',\n      'task',\n      id,\n      JSON.stringify({ title: task.title })\n    );\n  }\n}\n","import { Injectable } from '@nestjs/common';\nimport { InjectRepository } from '@nestjs/typeorm';\nimport { Repository } from 'typeorm';\nimport { AuditLog } from '../entities/audit-log.entity';\n\n@Injectable()\nexport class AuditService {\n  constructor(\n    @InjectRepository(AuditLog)\n    private auditRepository: Repository<AuditLog>\n  ) {}\n\n  async log(\n    userId: string,\n    organizationId: string,\n    action: string,\n    resource: string,\n    resourceId: string | null = null,\n    details: string | null = null\n  ): Promise<void> {\n    const entry = this.auditRepository.create({\n      userId,\n      organizationId,\n      action,\n      resource,\n      resourceId,\n      details,\n    });\n    await this.auditRepository.save(entry);\n    const msg = `[Audit] ${action} ${resource}${resourceId ? ` ${resourceId}` : ''} by user ${userId}`;\n    console.log(msg);\n  }\n\n  async findAll(organizationId: string, limit = 100): Promise<AuditLog[]> {\n    return this.auditRepository.find({\n      where: { organizationId },\n      order: { timestamp: 'DESC' },\n      take: limit,\n    });\n  }\n}\n","import {\n  Entity,\n  PrimaryGeneratedColumn,\n  Column,\n} from 'typeorm';\n\n@Entity('audit_log')\nexport class AuditLog {\n  @PrimaryGeneratedColumn('uuid')\n  id: string;\n\n  @Column('uuid')\n  userId: string;\n\n  @Column('uuid')\n  organizationId: string;\n\n  @Column()\n  action: string;\n\n  @Column()\n  resource: string;\n\n  @Column({ type: 'varchar', nullable: true })\n  resourceId: string | null;\n\n  @Column({ type: 'text', nullable: true })\n  details: string | null;\n\n  @Column({ type: 'datetime', default: () => 'CURRENT_TIMESTAMP' })\n  timestamp: Date;\n}\n","import {\n  Controller,\n  Get,\n  Post,\n  Put,\n  Delete,\n  Body,\n  Param,\n  Query,\n  Request,\n  UseGuards,\n} from '@nestjs/common';\nimport { TasksService } from './tasks.service';\nimport { JwtAuthGuard } from '../auth/jwt-auth.guard';\nimport { PermissionsGuard } from '../auth/permissions.guard';\nimport { RequirePermission } from '../auth/require-permission.decorator';\nimport { PERMISSIONS } from '@app/auth';\nimport { CreateTaskDto, UpdateTaskDto, TaskListQueryDto } from '@app/data';\n\n@Controller('tasks')\n@UseGuards(JwtAuthGuard)\nexport class TasksController {\n  constructor(private tasksService: TasksService) {}\n\n  @Post()\n  @UseGuards(PermissionsGuard)\n  @RequirePermission(PERMISSIONS.TASK_CREATE)\n  create(@Body() dto: CreateTaskDto, @Request() req: { user: unknown }) {\n    return this.tasksService.create(dto, req.user as Parameters<typeof this.tasksService.create>[1]);\n  }\n\n  @Get()\n  @UseGuards(PermissionsGuard)\n  @RequirePermission(PERMISSIONS.TASK_READ)\n  findAll(\n    @Request() req: { user: unknown },\n    @Query() query: TaskListQueryDto\n  ) {\n    return this.tasksService.findAll(req.user as Parameters<typeof this.tasksService.findAll>[0], query);\n  }\n\n  @Get(':id')\n  @UseGuards(PermissionsGuard)\n  @RequirePermission(PERMISSIONS.TASK_READ)\n  findOne(@Param('id') id: string, @Request() req: { user: unknown }) {\n    return this.tasksService.findOne(id, req.user as Parameters<typeof this.tasksService.findOne>[1]);\n  }\n\n  @Put(':id')\n  @UseGuards(PermissionsGuard)\n  @RequirePermission(PERMISSIONS.TASK_UPDATE)\n  update(\n    @Param('id') id: string,\n    @Body() dto: UpdateTaskDto,\n    @Request() req: { user: unknown }\n  ) {\n    return this.tasksService.update(id, dto, req.user as Parameters<typeof this.tasksService.update>[2]);\n  }\n\n  @Delete(':id')\n  @UseGuards(PermissionsGuard)\n  @RequirePermission(PERMISSIONS.TASK_DELETE)\n  remove(@Param('id') id: string, @Request() req: { user: unknown }) {\n    return this.tasksService.remove(id, req.user as Parameters<typeof this.tasksService.remove>[1]);\n  }\n}\n","import {\n  Injectable,\n  ExecutionContext,\n  UnauthorizedException,\n} from '@nestjs/common';\nimport { AuthGuard } from '@nestjs/passport';\nimport { Reflector } from '@nestjs/core';\nimport { IS_PUBLIC_KEY } from './public.decorator';\n\n@Injectable()\nexport class JwtAuthGuard extends AuthGuard('jwt') {\n  constructor(private reflector: Reflector) {\n    super();\n  }\n\n  canActivate(context: ExecutionContext) {\n    const isPublic = this.reflector.getAllAndOverride<boolean>(IS_PUBLIC_KEY, [\n      context.getHandler(),\n      context.getClass(),\n    ]);\n    if (isPublic) {\n      return true;\n    }\n    return super.canActivate(context);\n  }\n\n  handleRequest<TUser = unknown>(\n    err: unknown,\n    user: TUser | false,\n    _info: unknown,\n    _context: ExecutionContext,\n    _status?: unknown\n  ): TUser {\n    if (err || !user) {\n      throw err || new UnauthorizedException('Invalid or missing token');\n    }\n    return user;\n  }\n}\n","import {\n  Injectable,\n  CanActivate,\n  ExecutionContext,\n  ForbiddenException,\n} from '@nestjs/common';\nimport { Reflector } from '@nestjs/core';\nimport { hasPermission, Permission } from '@app/auth';\nimport { Role } from '@app/data';\nimport { PERMISSIONS_KEY } from './require-permission.decorator';\n\n@Injectable()\nexport class PermissionsGuard implements CanActivate {\n  constructor(private reflector: Reflector) {}\n\n  canActivate(context: ExecutionContext): boolean {\n    const requiredPermissions = this.reflector.getAllAndOverride<Permission[]>(\n      PERMISSIONS_KEY,\n      [context.getHandler(), context.getClass()]\n    );\n    if (!requiredPermissions?.length) {\n      return true;\n    }\n    const { user } = context.switchToHttp().getRequest();\n    const role = user.role as Role;\n    const hasAll = requiredPermissions.every((perm) =>\n      hasPermission(role, perm)\n    );\n    if (!hasAll) {\n      throw new ForbiddenException('Insufficient permissions');\n    }\n    return true;\n  }\n}\n","import { SetMetadata } from '@nestjs/common';\nimport { Permission } from '@app/auth';\n\nexport const PERMISSIONS_KEY = 'permissions';\n\nexport const RequirePermission = (...permissions: Permission[]) =>\n  SetMetadata(PERMISSIONS_KEY, permissions);\n","import { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { AuditLog } from '../entities/audit-log.entity';\nimport { AuditService } from './audit.service';\nimport { AuditController } from './audit.controller';\n\n@Module({\n  imports: [TypeOrmModule.forFeature([AuditLog])],\n  controllers: [AuditController],\n  providers: [AuditService],\n  exports: [AuditService],\n})\nexport class AuditModule {}\n","import { Controller, Get, Query, Request, UseGuards } from '@nestjs/common';\nimport { AuditService } from './audit.service';\nimport { JwtAuthGuard } from '../auth/jwt-auth.guard';\nimport { RolesGuard } from '../auth/roles.guard';\nimport { Roles } from '../auth/roles.decorator';\nimport { Role } from '@app/data';\nimport { AUDIT_READ_ROLES } from '@app/auth';\n\n@Controller('audit-log')\n@UseGuards(JwtAuthGuard, RolesGuard)\n@Roles(...AUDIT_READ_ROLES)\nexport class AuditController {\n  constructor(private auditService: AuditService) {}\n\n  @Get()\n  findAll(\n    @Request() req: { user: { organizationId: string } },\n    @Query('limit') limit?: string\n  ) {\n    return this.auditService.findAll(\n      req.user.organizationId,\n      limit ? parseInt(limit, 10) : 100\n    );\n  }\n}\n","import {\n  Injectable,\n  CanActivate,\n  ExecutionContext,\n  ForbiddenException,\n} from '@nestjs/common';\nimport { Reflector } from '@nestjs/core';\nimport { Role } from '@app/data';\nimport { ROLES_KEY } from './roles.decorator';\n\n@Injectable()\nexport class RolesGuard implements CanActivate {\n  constructor(private reflector: Reflector) {\n  }\n\n  canActivate(context: ExecutionContext): boolean {\n    const requiredRoles = this.reflector.getAllAndOverride<Role[]>(ROLES_KEY, [\n      context.getHandler(),\n      context.getClass(),\n    ]);\n    if (!requiredRoles?.length) {\n      return true;\n    }\n    const { user } = context.switchToHttp().getRequest();\n    const hasRole = requiredRoles.some((role) => user.role === role);\n    if (!hasRole) {\n      throw new ForbiddenException('Insufficient role');\n    }\n    return true;\n  }\n}\n","import { SetMetadata } from '@nestjs/common';\nimport { Role } from '@app/data';\n\nexport const ROLES_KEY = 'roles';\n\nexport const Roles = (...roles: Role[]) => SetMetadata(ROLES_KEY, roles);\n","import { Module } from '@nestjs/common';\nimport { TypeOrmModule } from '@nestjs/typeorm';\nimport { Organization } from '../entities/organization.entity';\nimport { User } from '../entities/user.entity';\nimport { Task } from '../entities/task.entity';\nimport { SeedService } from './seed.service';\n\n@Module({\n  imports: [\n    TypeOrmModule.forFeature([Organization, User, Task]),\n  ],\n  providers: [SeedService],\n})\nexport class SeedModule {}\n","import { Injectable, OnModuleInit } from '@nestjs/common';\nimport { InjectRepository } from '@nestjs/typeorm';\nimport { Repository } from 'typeorm';\nimport * as bcrypt from 'bcrypt';\nimport { Organization } from '../entities/organization.entity';\nimport { User } from '../entities/user.entity';\nimport { Task } from '../entities/task.entity';\nimport { Role } from '@app/data';\nimport { TaskStatus, TaskCategory } from '@app/data';\n\n@Injectable()\nexport class SeedService implements OnModuleInit {\n  constructor(\n    @InjectRepository(Organization)\n    private orgRepo: Repository<Organization>,\n    @InjectRepository(User)\n    private userRepo: Repository<User>,\n    @InjectRepository(Task)\n    private taskRepo: Repository<Task>\n  ) {}\n\n  async onModuleInit() {\n    const userCount = await this.userRepo.count();\n    if (userCount > 0) return;\n\n    const org = this.orgRepo.create({\n      name: 'Default Organization',\n      parentId: null,\n    });\n    await this.orgRepo.save(org);\n\n    const passwordHash = await bcrypt.hash('admin123', 10);\n    const owner = this.userRepo.create({\n      email: 'owner@example.com',\n      passwordHash,\n      organizationId: org.id,\n      role: Role.Owner,\n    });\n    await this.userRepo.save(owner);\n\n    const tasks = [\n      { title: 'Welcome task', description: 'Get started', status: TaskStatus.Todo, category: TaskCategory.Work, orderIndex: 0 },\n      { title: 'Review docs', description: 'Read the README', status: TaskStatus.InProgress, category: TaskCategory.Work, orderIndex: 1 },\n      { title: 'Personal goal', description: 'Exercise', status: TaskStatus.Todo, category: TaskCategory.Personal, orderIndex: 2 },\n    ];\n    for (const t of tasks) {\n      const task = this.taskRepo.create({\n        ...t,\n        organizationId: org.id,\n        createdById: owner.id,\n      });\n      await this.taskRepo.save(task);\n    }\n    console.log('Seed completed: 1 org, 1 owner (owner@example.com / admin123), 3 tasks');\n  }\n}\n","export * from './organization.entity';\nexport * from './user.entity';\nexport * from './task.entity';\nexport * from './audit-log.entity';\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\n * This is not a production server yet!\n * This is only a minimal backend to get started.\n */\n\nimport { Logger, ValidationPipe } from '@nestjs/common';\nimport { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app/app.module';\n\nasync function bootstrap() {\n  const app = await NestFactory.create(AppModule);\n  app.enableCors({ \n    origin: 'http://localhost:4200',\n    credentials: true,\n  });\n  app.useGlobalPipes(\n    new ValidationPipe({ whitelist: true, forbidNonWhitelisted: true })\n  );\n  const globalPrefix = 'api';\n  app.setGlobalPrefix(globalPrefix);\n  const port = process.env.PORT || 3000;\n  await app.listen(port);\n  Logger.log(\n    ` Application is running on: http://localhost:${port}/${globalPrefix}`,\n  );\n}\n\nbootstrap();\n"],"names":[],"sourceRoot":""}